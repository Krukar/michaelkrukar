if(typeof Object.create!=="function"){Object.create=function(e){function t(){}t.prototype=e;return new t}}(function(e,t,n,r){var i="panelSnap";var s="plugin_"+i;var o={isMouseDown:false,isSnapping:false,enabled:true,scrollInterval:0,scrollOffset:0,init:function(t,r){var i=this;i.container=r;i.$container=e(r);i.$eventContainer=i.$container;i.$snapContainer=i.$container;if(i.$container.is("body")){i.$eventContainer=e(n);i.$snapContainer=e(n.documentElement);var s=navigator.userAgent;if(~s.indexOf("WebKit")){i.$snapContainer=e("body")}}i.scrollInterval=i.$container.height();i.options=e.extend(true,{},e.fn.panelSnap.options,t);i.bind();if(i.options.$menu!==false&&e(".active",i.options.$menu).length>0){e(".active",i.options.$menu).click()}else{var o=i.getPanel(":first");i.activatePanel(o)}return i},bind:function(){var n=this;n.bindProxied(n.$eventContainer,"scrollstop",n.scrollStop);n.bindProxied(n.$eventContainer,"mousewheel",n.mouseWheel);n.bindProxied(n.$eventContainer,"mousedown",n.mouseDown);n.bindProxied(n.$eventContainer,"mouseup",n.mouseUp);n.bindProxied(e(t),"resizestop",n.resize);if(n.options.keyboardNavigation.enabled){n.bindProxied(e(t),"keydown",n.keyDown,n.$eventContainer)}if(n.options.$menu!==false){n.bindProxied(e(n.options.$menu),"click",n.captureMenuClick,n.options.menuSelector)}},bindProxied:function(t,n,r,i){var s=this;i=typeof i==="string"?i:null;t.on(n+s.options.namespace,i,e.proxy(function(e){return r.call(s,e)},s))},destroy:function(){var n=this;n.$eventContainer.off(n.options.namespace);e(t).off(n.options.namespace);if(n.options.$menu!==false){e(n.options.menuSelector,n.options.$menu).off(n.options.namespace)}n.$container.removeData(s)},scrollStop:function(e){var t=this;e.stopPropagation();if(!t.enabled){return}if(t.isMouseDown){return}if(t.isSnapping){return}var n=t.$snapContainer.scrollTop();var r=n-t.scrollOffset;var i=t.$container[0].scrollHeight-t.scrollInterval;var s=t.getPanel().length;var o;if(r<-t.options.directionThreshold&&r>-t.scrollInterval){o=Math.floor(n/t.scrollInterval)}else if(r>t.options.directionThreshold&&r<t.scrollInterval){o=Math.ceil(n/t.scrollInterval)}else{o=Math.round(n/t.scrollInterval)}o=Math.max(0,Math.min(o,s));var u=t.getPanel(":eq("+o+")");if(r===0){}else if(n<=0||n>=i){t.activatePanel(u);t.scrollOffset=n<=0?0:i}else{t.snapToPanel(u)}},mouseWheel:function(e){var t=this;t.$container.stop(true);t.isSnapping=false},mouseDown:function(e){var t=this;t.isMouseDown=true},mouseUp:function(e){var t=this;t.isMouseDown=false;if(t.scrollOffset!==t.$snapContainer.scrollTop()){t.scrollStop(e)}},keyDown:function(e){var t=this;var n=t.options.keyboardNavigation;if(t.isSnapping){if(e.which==n.previousPanelKey||e.which==n.nextPanelKey){e.preventDefault();return false}return}switch(e.which){case n.previousPanelKey:e.preventDefault();t.snapTo("prev",n.wrapAround);break;case n.nextPanelKey:e.preventDefault();t.snapTo("next",n.wrapAround);break}},resize:function(e){var t=this;t.scrollInterval=t.$container.height();if(!t.enabled){return}var n=t.getPanel(".active");t.snapToPanel(n)},captureMenuClick:function(t){var n=this;var r=e(t.currentTarget).data("panel");var i=n.getPanel('[data-panel="'+r+'"]');n.snapToPanel(i);return false},snapToPanel:function(e){var t=this;if(!(e instanceof jQuery)){return}t.isSnapping=true;t.options.onSnapStart.call(t,e);t.$container.trigger("panelsnap:start",[e]);var n=0;if(t.$container.is("body")){n=e.offset().top}else{n=t.$snapContainer.scrollTop()+e.position().top}t.$snapContainer.stop(true).animate({scrollTop:n},t.options.slideSpeed,function(){t.scrollOffset=n;t.isSnapping=false;t.options.onSnapFinish.call(t,e);t.$container.trigger("panelsnap:finish",[e]);t.activatePanel(e)})},activatePanel:function(t){var n=this;n.getPanel(".active").removeClass("active");t.addClass("active");if(n.options.$menu!==false){var r="> "+n.options.menuSelector+".active";e(r,n.options.$menu).removeClass("active");var i='[data-panel="'+t.data("panel")+'"]';var s="> "+n.options.menuSelector+i;var o=e(s,n.options.$menu);o.addClass("active")}n.options.onActivate.call(n,t);n.$container.trigger("panelsnap:activate",[t])},getPanel:function(t){var n=this;if(typeof t==="undefined"){t=""}var r="> "+n.options.panelSelector+t;return e(r,n.$container)},snapTo:function(e,t){var n=this;if(typeof t!=="boolean"){t=true}var r;switch(e){case"prev":r=n.getPanel(".active").prev(n.options.panelSelector);if(r.length<1&&t){r=n.getPanel(":last")}break;case"next":r=n.getPanel(".active").next(n.options.panelSelector);if(r.length<1&&t){r=n.getPanel(":first")}break;case"first":r=n.getPanel(":first");break;case"last":r=n.getPanel(":last");break}if(r.length>0){n.snapToPanel(r)}},enable:function(){var e=this;e.scrollOffset=e.$snapContainer.scrollTop();e.enabled=true},disable:function(){var e=this;e.enabled=false},toggle:function(){var e=this;if(e.enabled){e.disable()}else{e.enable()}}};e.fn[i]=function(t){var n=Array.prototype.slice.call(arguments);return this.each(function(){var r=e.data(this,s);if(typeof t==="object"||t==="init"||!t){if(!r){if(t==="init"){t=n[1]||{}}r=Object.create(o).init(t,this);e.data(this,s,r)}else{e.error("Plugin is already initialized for this object.");return}}else if(!r){e.error("Plugin is not initialized for this object yet.");return}else if(r[t]){var i=t;t=n.slice(1);r[i].apply(r,t)}else{e.error("Method "+t+" does not exist on jQuery.panelSnap.");return}})};e.fn[i].options={$menu:false,menuSelector:"a",panelSelector:".page",namespace:".panelSnap",onSnapStart:function(){},onSnapFinish:function(){},onActivate:function(){},directionThreshold:20,slideSpeed:400,keyboardNavigation:{enabled:true,nextPanelKey:40,previousPanelKey:38,wrapAround:true}}})(jQuery,window,document);(function(e){e.event.special.scrollstart={enabled:true,setup:function(){function s(e,t){e.type=t?"scrollstart":"scrollstop";n.trigger(e)}var t=this;var n=e(t);var r;var i;n.data("scrollwatch",true);n.on("touchmove scroll",function(t){if(!e.event.special.scrollstart.enabled){return}if(!e.event.special.scrollstart.scrolling){e.event.special.scrollstart.scrolling=true;s(t,true)}clearTimeout(i);i=setTimeout(function(){e.event.special.scrollstart.scrolling=false;s(t,false)},50)})}};e.event.special.scrollstop={setup:function(){var t=this;var n=e(t);if(!n.data("scrollwatch")){e(this).on("scrollstart",function(){})}}}})(jQuery);(function(e){e.event.special.resizestart={enabled:true,setup:function(){function s(e,t){e.type=t?"resizestart":"resizestop";n.trigger(e)}var t=this;var n=e(t);var r;var i;n.data("resizewatch",true);n.on("resize",function(t){if(!e.event.special.resizestart.enabled){return}if(!e.event.special.resizestart.resizing){e.event.special.resizestart.resizing=true;s(t,true)}clearTimeout(i);i=setTimeout(function(){e.event.special.resizestart.resizing=false;s(t,false)},200)})}};e.event.special.resizestop={setup:function(){var t=this;var n=e(t);if(!n.data("resizewatch")){e(this).on("resizestart",function(){})}}}})(jQuery);(function(e){function r(t){var n=t||window.event,r=[].slice.call(arguments,1),i=0,s=true,o=0,u=0;t=e.event.fix(n);t.type="mousewheel";if(n.wheelDelta){i=n.wheelDelta/120}if(n.detail){i=-n.detail/3}u=i;if(n.axis!==undefined&&n.axis===n.HORIZONTAL_AXIS){u=0;o=-1*i}if(n.wheelDeltaY!==undefined){u=n.wheelDeltaY/120}if(n.wheelDeltaX!==undefined){o=-1*n.wheelDeltaX/120}r.unshift(t,i,o,u);return(e.event.dispatch||e.event.handle).apply(this,r)}var t=["DOMMouseScroll","mousewheel"];if(e.event.fixHooks){for(var n=t.length;n;){e.event.fixHooks[t[--n]]=e.event.mouseHooks}}e.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var e=t.length;e;){this.addEventListener(t[--e],r,false)}}else{this.onmousewheel=r}},teardown:function(){if(this.removeEventListener){for(var e=t.length;e;){this.removeEventListener(t[--e],r,false)}}else{this.onmousewheel=null}}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})})(jQuery)